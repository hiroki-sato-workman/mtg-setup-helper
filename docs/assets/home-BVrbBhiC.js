import{a as v,p as e,w as Ze}from"./chunk-C37GKA54-BMHwpGcR.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Je=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,o,a)=>a?a.toUpperCase():o.toLowerCase()),Ie=t=>{const s=Je(t);return s.charAt(0).toUpperCase()+s.slice(1)},Ye=(...t)=>t.filter((s,o,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===o).join(" ").trim(),Xe=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ke={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=v.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:d,iconNode:g,...c},x)=>v.createElement("svg",{ref:x,...Ke,width:s,height:s,stroke:t,strokeWidth:a?Number(o)*24/Number(s):o,className:Ye("lucide",l),...!d&&!Xe(c)&&{"aria-hidden":"true"},...c},[...g.map(([p,N])=>v.createElement(p,N)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=(t,s)=>{const o=v.forwardRef(({className:a,...l},d)=>v.createElement(Qe,{ref:d,iconNode:s,className:Ye(`lucide-${We(Ie(t))}`,`lucide-${t}`,a),...l}));return o.displayName=Ie(t),o};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Le=T("calendar",et);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ze=T("camera",tt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],at=T("check",rt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nt=T("chevron-down",st);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ot=T("chevron-up",it);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Re=T("circle-check-big",lt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ae=T("download",dt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mt=T("eye-off",ct);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xt=T("eye",gt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_e=T("file-text",ut);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]],ht=T("folder-down",ft);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]],pt=T("folder-up",yt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],V=T("map-pin",bt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Nt=T("menu",jt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],G=T("monitor",vt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wt=T("moon",kt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],$t=T("notebook-pen",Tt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dt=T("pen",St);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Et=T("play",Mt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ot=T("plus",Ct);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qe=T("settings",It);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zt=T("sun",Lt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],At=T("trash-2",Rt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J=T("triangle-alert",_t);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Pt=T("upload",Ft);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],A=T("user",Ut);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ht=T("users",Vt);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ae=T("x",Bt),$e=[{value:"allday",label:"終日"},{value:"separator1",label:"──────────",disabled:!0},{value:"morning",label:"10:00 ~ 12:00"},{value:"afternoon",label:"13:00 ~ 16:00"},{value:"evening",label:"17:00以降"},{value:"separator2",label:"──────────",disabled:!0},{value:"10-11",label:"10:00 ~ 11:00"},{value:"11-12",label:"11:00 ~ 12:00"},{value:"12-13",label:"12:00 ~ 13:00"},{value:"13-14",label:"13:00 ~ 14:00"},{value:"14-15",label:"14:00 ~ 15:00"},{value:"15-16",label:"15:00 ~ 16:00"},{value:"16-17",label:"16:00 ~ 17:00"},{value:"17-18",label:"17:00 ~ 18:00"},{value:"18-19",label:"18:00 ~ 19:00"}],le=t=>{var s;return((s=$e.find(o=>o.value===t))==null?void 0:s.label)||t},Gt=t=>{const s=[];t.forEach(a=>{a.status!=="confirmed"&&a.preferredOptions.forEach((l,d)=>{l.date&&l.timeSlot&&s.push({date:l.date,timeSlot:l.timeSlot,meetingName:a.name,meetingImage:a.image,priority:d+1,notes:a.notes,meetingType:a.meetingType,meetingLocation:a.meetingLocation})})}),s.sort((a,l)=>new Date(a.date).getTime()-new Date(l.date).getTime());const o={};return s.forEach(a=>{o[a.date]||(o[a.date]=[]),o[a.date].push(a)}),o},Fe=t=>{if(t==="allday")return[0,24];if(t==="morning")return[10,12];if(t==="afternoon")return[13,16];if(t==="evening")return[17,24];if(t.includes("-")){const[s,o]=t.split("-").map(Number);if(!isNaN(s)&&!isNaN(o))return[s,o]}return null},Pe=(t,s)=>{if(t==="allday"||s==="allday"||t===s)return!0;const o=Fe(t),a=Fe(s);if(!o||!a)return!1;const[l,d]=o,[g,c]=a;return l<c&&g<d},de=(t,s,o,a,l,d=-1)=>{if(!t||!s)return!1;for(let g of o)if(!(a&&g.id===a.id)){for(let c of g.preferredOptions)if(c.date===t&&c.timeSlot&&Pe(s,c.timeSlot))return!0}for(let g=0;g<l.preferredOptions.length;g++)if(g!==d){const c=l.preferredOptions[g];if(c.date===t&&c.timeSlot&&Pe(s,c.timeSlot))return!0}return!1},Se=(t,s)=>{const o={};if(t.name.trim()||(o.name="名前は必須です"),s==="undetermined")return o;const a=t.preferredOptions[0].date,l=t.preferredOptions[0].timeSlot;return a&&!l&&(o.timeSlot_0="日程を入力した場合、時間帯も必須です"),l&&!a&&(o.date_0="時間帯を入力した場合、日程も必須です"),o},ce=()=>({name:"",image:"",notes:"",meetingType:"offline",meetingLocation:"",preferredOptions:[{date:"",timeSlot:""},{date:"",timeSlot:""},{date:"",timeSlot:""},{date:"",timeSlot:""},{date:"",timeSlot:""}]}),Ue=t=>{if(t==="morning")return["10:00","12:00"];if(t==="afternoon")return["13:00","16:00"];if(t==="evening")return["17:00","19:00"];if(t==="allday")return["09:00","18:00"];if(t.includes("-")){const[s,o]=t.split("-").map(Number);if(!isNaN(s)&&!isNaN(o)){const a=`${s.toString().padStart(2,"0")}:00`,l=`${o.toString().padStart(2,"0")}:00`;return[a,l]}}return["10:00","11:00"]},Yt=(t,s)=>{const o=new Date;return t.filter(a=>a.status==="confirmed"&&a.confirmedDate).filter(a=>{const l=new Date(a.confirmedDate),d=new Date(o.getFullYear(),o.getMonth(),o.getDate()),g=new Date(l.getFullYear(),l.getMonth(),l.getDate());if(g>d)return!0;if(g<d)return!1;if(!a.confirmedStartTime)return!0;const[c,x]=a.confirmedStartTime.split(":").map(Number);l.setHours(c,x,0,0);const p=new Date(l.getTime()+3600*1e3);return o<p}).sort((a,l)=>{const d=new Date(a.confirmedDate),g=new Date(l.confirmedDate);if(a.confirmedStartTime){const[c,x]=a.confirmedStartTime.split(":").map(Number);d.setHours(c,x,0,0)}if(l.confirmedStartTime){const[c,x]=l.confirmedStartTime.split(":").map(Number);g.setHours(c,x,0,0)}return d.getTime()-g.getTime()})},qt=(t,s=!0,o)=>{const a=new Date;return t.filter(l=>l.status==="confirmed"&&l.confirmedDate).map(l=>{const d=new Date(l.confirmedDate),g=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=new Date(d.getFullYear(),d.getMonth(),d.getDate());let x=!1;if(c<g)x=!0;else if(c.getTime()===g.getTime()&&l.confirmedStartTime){const[p,N]=l.confirmedStartTime.split(":").map(Number);d.setHours(p,N,0,0);const S=new Date(d.getTime()+3600*1e3);x=a>=S}return{...l,isPast:x}}).filter(l=>s||!l.isPast).sort((l,d)=>{const g=new Date(l.confirmedDate),c=new Date(d.confirmedDate);if(l.confirmedStartTime){const[x,p]=l.confirmedStartTime.split(":").map(Number);g.setHours(x,p,0,0)}if(d.confirmedStartTime){const[x,p]=d.confirmedStartTime.split(":").map(Number);c.setHours(x,p,0,0)}return g.getTime()-c.getTime()})},te=t=>t?new Date(t).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"}):"",Zt=t=>t?new Date(t).toLocaleDateString("ja-JP",{month:"short",day:"numeric",weekday:"short"}):"",Ve=()=>new Date().toISOString().split("T")[0],X=t=>t.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",Wt=(t,s)=>{if(!t.confirmedDate||!t.confirmedStartTime||!t.confirmedEndTime)return;const o=new Date(t.confirmedDate),[a,l]=t.confirmedStartTime.split(":").map(Number),[d,g]=t.confirmedEndTime.split(":").map(Number),c=new Date(o.getFullYear(),o.getMonth(),o.getDate(),a,l),x=new Date(o.getFullYear(),o.getMonth(),o.getDate(),d,g),p=new Date,N=s.map(H=>`BEGIN:VALARM\r
TRIGGER:-PT${H}M\r
ACTION:DISPLAY\r
DESCRIPTION:面談開始${H}分前\r
END:VALARM`).join(`\r
`),S=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Meeting Scheduler//Meeting Calendar//EN","BEGIN:VEVENT",`UID:${t.id}-${p.getTime()}@meetingscheduler.com`,`DTSTAMP:${X(p)}`,`DTSTART:${X(c)}`,`DTEND:${X(x)}`,`SUMMARY:${(t.meetingType||"offline")==="online"?"[オンライン] ":"[対面] "}面談 ${t.name}`,`DESCRIPTION:${t.notes?t.notes.replace(/\n/g,"\\n"):"面談の予定"}`,...t.meetingLocation?[`LOCATION:${t.meetingLocation.replace(/\n/g,"\\n")}`]:[],"STATUS:CONFIRMED",N,"END:VEVENT","END:VCALENDAR"].join(`\r
`),I=new Blob([S],{type:"text/calendar;charset=utf-8"}),k=URL.createObjectURL(I),C=document.createElement("a");C.href=k,C.download=`面談_${t.name}_${t.confirmedDate}.ics`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k)},Jt=(t,s)=>{const o=t.filter(k=>k.status==="confirmed"&&k.confirmedDate&&k.confirmedStartTime&&k.confirmedEndTime);if(o.length===0){console.warn("確定済みの面談がありません");return}const a=new Date,d=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Meeting Scheduler//Meeting Calendar//EN",...o.map(k=>{const C=new Date(k.confirmedDate),[H,Y]=k.confirmedStartTime.split(":").map(Number),[_,q]=k.confirmedEndTime.split(":").map(Number),D=new Date(C.getFullYear(),C.getMonth(),C.getDate(),H,Y),R=new Date(C.getFullYear(),C.getMonth(),C.getDate(),_,q),M=s.map(w=>`BEGIN:VALARM\r
TRIGGER:-PT${w}M\r
ACTION:DISPLAY\r
DESCRIPTION:面談開始${w}分前\r
END:VALARM`).join(`\r
`);return["BEGIN:VEVENT",`UID:${k.id}-${a.getTime()}@meetingscheduler.com`,`DTSTAMP:${X(a)}`,`DTSTART:${X(D)}`,`DTEND:${X(R)}`,`SUMMARY:${(k.meetingType||"offline")==="online"?"[オンライン] ":"[対面] "}面談 ${k.name}`,`DESCRIPTION:${k.notes?k.notes.replace(/\n/g,"\\n"):"面談の予定"}`,...k.meetingLocation?[`LOCATION:${k.meetingLocation.replace(/\n/g,"\\n")}`]:[],"STATUS:CONFIRMED",M,"END:VEVENT"].join(`\r
`)}),"END:VCALENDAR"].join(`\r
`),g=new Blob([d],{type:"text/calendar;charset=utf-8"}),c=URL.createObjectURL(g),x=document.createElement("a");x.href=c;const p=o.map(k=>k.confirmedDate).sort(),N=p[0],S=p[p.length-1],I=N===S?N:`${N}_${S}`;x.download=`確定面談一覧_${I}.ics`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(c)},Xt=t=>{const s=[],o=t.split(/\r?\n/);let a=null,l=!1;for(let d=0;d<o.length;d++){const g=o[d].trim();if(g==="BEGIN:VEVENT")l=!0,a={id:Date.now()+Math.random(),name:"",image:"",notes:"",preferredOptions:[],confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending"};else if(g==="END:VEVENT"&&a)l=!1,a.name&&s.push(a),a=null;else if(l&&a){if(g.startsWith("SUMMARY:")){const c=g.substring(8);a.name=c.replace(/^面談\s*-\s*/,"")||c}else if(g.startsWith("DESCRIPTION:"))a.notes=g.substring(12).replace(/\\n/g,`
`);else if(g.startsWith("DTSTART:")){const c=g.substring(8);try{const x=He(c);if(x){a.confirmedDate=x.toISOString().split("T")[0],a.confirmedStartTime=x.toTimeString().substring(0,5);const p=x.getHours();p>=10&&p<12?a.confirmedTimeSlot="morning":p>=13&&p<16?a.confirmedTimeSlot="afternoon":p>=17?a.confirmedTimeSlot="evening":a.confirmedTimeSlot="allday"}}catch(x){console.error("日時の解析に失敗しました:",x)}}else if(g.startsWith("DTEND:")){const c=g.substring(6);try{const x=He(c);x&&(a.confirmedEndTime=x.toTimeString().substring(0,5))}catch(x){console.error("終了時刻の解析に失敗しました:",x)}}}}return s},He=t=>{try{if(t.endsWith("Z")){const s=t.slice(0,-1),o=parseInt(s.substring(0,4)),a=parseInt(s.substring(4,6))-1,l=parseInt(s.substring(6,8)),d=parseInt(s.substring(9,11)),g=parseInt(s.substring(11,13)),c=parseInt(s.substring(13,15));return new Date(Date.UTC(o,a,l,d,g,c))}if(t.length===8){const s=parseInt(t.substring(0,4)),o=parseInt(t.substring(4,6))-1,a=parseInt(t.substring(6,8));return new Date(s,o,a)}return null}catch(s){return console.error("日時解析エラー:",s),null}},Kt=t=>{const s={exportDate:new Date().toISOString(),version:"1.0",meetings:t},o=JSON.stringify(s,null,2),a=new Blob([o],{type:"application/json"}),l=URL.createObjectURL(a),d=document.createElement("a");d.href=l,d.download=`meeting-data-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(l)},Qt=t=>new Promise((s,o)=>{const a=new FileReader;a.onload=l=>{var d;try{const g=(d=l.target)==null?void 0:d.result,c=JSON.parse(g);if(!c.meetings||!Array.isArray(c.meetings))throw new Error("無効なデータ形式です");const x=c.meetings.filter(p=>p&&typeof p.id=="number"&&typeof p.name=="string"&&Array.isArray(p.preferredOptions));s(x)}catch(g){o(new Error("ファイルの読み込みに失敗しました: "+g.message))}},a.onerror=()=>{o(new Error("ファイルの読み込みに失敗しました"))},a.readAsText(t)}),er=[{id:1,name:"田中太郎",image:"",notes:"プロダクトマネージャーとしての経験豊富。スクラムマスター資格保有。",meetingType:"offline",meetingLocation:"東京オフィス 会議室A",preferredOptions:[{date:"2025-08-15",timeSlot:"morning"},{date:"2025-08-16",timeSlot:"afternoon"},{date:"2025-08-20",timeSlot:"morning"}],confirmedDate:"2025-08-15",confirmedTimeSlot:"morning",confirmedStartTime:"10:00",confirmedEndTime:"11:00",status:"confirmed",meetingResult:"非常に優秀な候補者でした。技術的な知識も豊富で、チームワークも良好です。ぜひ一緒に働きたいと思える人材でした。"},{id:2,name:"佐藤花子",image:"",notes:"フロントエンド開発5年経験。React、TypeScript得意。",meetingType:"online",meetingLocation:"Zoom（URLは別途送信）",preferredOptions:[{date:"2025-08-14",timeSlot:"evening"},{date:"2025-08-15",timeSlot:"afternoon"},{date:"2025-08-19",timeSlot:"evening"}],confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending",meetingResult:""},{id:3,name:"山田次郎",image:"",notes:"バックエンドエンジニア。Go、Python、AWSクラウド経験あり。",meetingType:"offline",meetingLocation:"大阪支社 会議室B",preferredOptions:[{date:"2025-08-16",timeSlot:"morning"},{date:"2025-08-17",timeSlot:"allday"},{date:"2025-08-21",timeSlot:"afternoon"}],confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending",meetingResult:""},{id:4,name:"鈴木美咲",image:"",notes:"デザイナー兼フロントエンドエンジニア。UI/UX設計からコーディングまで対応可能。",meetingType:"online",meetingLocation:"Google Meet",preferredOptions:[{date:"2025-08-15",timeSlot:"morning"},{date:"2025-08-15",timeSlot:"afternoon"},{date:"2025-08-18",timeSlot:"evening"}],confirmedDate:"2025-08-18",confirmedTimeSlot:"evening",confirmedStartTime:"19:00",confirmedEndTime:"20:30",status:"confirmed",meetingResult:"創造力が豊かで、技術スキルも高い候補者でした。デザインセンスが優秀で、エンジニアリングスキルとのバランスが取れています。"},{id:5,name:"高橋和也",image:"",notes:"データサイエンティスト。機械学習、統計解析の専門家。日程調整中のため未定。",meetingType:"offline",meetingLocation:"東京オフィス 会議室C",preferredOptions:[],confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending",meetingResult:""},{id:6,name:"中村翔太",image:"",notes:"インフラエンジニア。Docker、Kubernetes、CI/CD経験豊富。",meetingType:"online",meetingLocation:"Microsoft Teams",preferredOptions:[{date:"2025-08-16",timeSlot:"afternoon"},{date:"2025-08-17",timeSlot:"morning"},{date:"2025-08-19",timeSlot:"morning"}],confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending",meetingResult:""},{id:7,name:"伊藤あかり",image:"",notes:"QAエンジニア。テスト自動化とCI/CD導入の経験あり。海外在住のため時差を考慮した調整が必要。",meetingType:"online",meetingLocation:"Zoom（時差調整要）",preferredOptions:[],confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending",meetingResult:""}],tr=()=>{const[t,s]=v.useState(!1);return{isDemoMode:t,toggleDemoMode:()=>{s(!t)},getDemoData:()=>er}},rr=()=>{const{isDemoMode:t,toggleDemoMode:s,getDemoData:o}=tr(),[a,l]=v.useState([]),[d,g]=v.useState(!1),[c,x]=v.useState(null),[p,N]=v.useState(null),[S,I]=v.useState(null),[k,C]=v.useState(!1),[H,Y]=v.useState(!1),[_,q]=v.useState(null),[D,R]=v.useState([60,30]),[M,w]=v.useState(ce()),[K,De]=v.useState({}),[ge,Q]=v.useState([]),[se,F]=v.useState(!1);v.useEffect(()=>{if(t)l(o());else{const m=localStorage.getItem("meetingSchedulerData");if(m)try{l(JSON.parse(m))}catch(f){console.error("データの読み込みに失敗しました:",f)}}},[t]),v.useEffect(()=>{t||localStorage.setItem("meetingSchedulerData",JSON.stringify(a))},[a,t]);const ne=m=>{const f=Se(M,m);if(Object.keys(f).length>0){alert("入力内容に不備があります。赤い項目を確認してください。");return}if(c)l(a.map(y=>y.id===c.id?{...c,name:M.name,image:M.image,notes:M.notes,meetingType:M.meetingType||c.meetingType||"offline",meetingLocation:M.meetingLocation||"",preferredOptions:m==="undetermined"?[]:M.preferredOptions.filter(j=>j.date&&j.timeSlot),confirmedDate:c.confirmedDate||"",confirmedTimeSlot:c.confirmedTimeSlot||"",confirmedStartTime:c.confirmedStartTime||"",confirmedEndTime:c.confirmedEndTime||"",meetingResult:c.meetingResult||""}:y)),x(null);else{const y={id:Date.now(),name:M.name,image:M.image,notes:M.notes,meetingType:M.meetingType||"offline",meetingLocation:M.meetingLocation||"",preferredOptions:m==="undetermined"?[]:M.preferredOptions.filter(j=>j.date&&j.timeSlot),confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending",meetingResult:""};l([...a,y])}w(ce()),g(!1)},xe=m=>{x(m),w({name:m.name,image:m.image,notes:m.notes,meetingType:m.meetingType||"offline",meetingLocation:m.meetingLocation||"",preferredOptions:[...m.preferredOptions,...Array(5-m.preferredOptions.length).fill({date:"",timeSlot:""})].slice(0,5)}),g(!0)},ue=m=>{const f=a.find(y=>y.id===m);f&&(N(m),I({...f}))},fe=()=>{N(null),I(null)},he=(m,f)=>{const y=f||S;y&&l(a.map(j=>j.id===m?{...j,...y}:j)),N(null),I(null),P("面談情報を更新しました。","success")},ye=(m,f,y)=>{S&&S.id===m&&I({...S,[f]:y})},pe=(m,f,y,j)=>{if(S&&S.id===m){const r=[...S.preferredOptions];for(;r.length<=f;)r.push({date:"",timeSlot:""});r[f]={...r[f],[y]:j},I({...S,preferredOptions:r})}},be=(m,f)=>{l(a.map(y=>y.id===m?{...y,meetingResult:f}:y))},je=m=>{l(a.filter(f=>f.id!==m))},Ne=(m,f,y)=>{q({meetingId:m,date:f,timeSlot:y}),Y(!0)},ie=(m,f)=>{if(!_)return;const{meetingId:y,date:j,timeSlot:r}=_;l(a.map(n=>n.id===y?{...n,confirmedDate:j,confirmedTimeSlot:r,confirmedStartTime:m,confirmedEndTime:f,status:"confirmed"}:n)),Y(!1),q(null)},ve=m=>{l(a.map(f=>f.id===m?{...f,confirmedDate:"",confirmedTimeSlot:"",confirmedStartTime:"",confirmedEndTime:"",status:"pending"}:f))},ke=m=>{var j;const f=(j=m.target.files)==null?void 0:j[0];if(!f)return;const y=new FileReader;y.onload=r=>{var n;try{const h=(n=r.target)==null?void 0:n.result,i=Xt(h);if(i.length===0){P("有効なイベントが見つかりませんでした。","error");return}const b=i.map($=>({id:Date.now()+Math.random(),name:$.name||"無題の面談",image:$.image||"",notes:$.notes||"",meetingType:"offline",preferredOptions:$.confirmedDate&&$.confirmedTimeSlot?[{date:$.confirmedDate,timeSlot:$.confirmedTimeSlot}]:[],confirmedDate:$.confirmedDate||"",confirmedTimeSlot:$.confirmedTimeSlot||"",confirmedStartTime:$.confirmedStartTime||"",confirmedEndTime:$.confirmedEndTime||"",status:$.confirmedDate&&$.confirmedStartTime&&$.confirmedEndTime?"confirmed":"pending",meetingResult:""}));l($=>[...$,...b]),C(!1),P(`${b.length}件の面談をインポートしました。`,"success")}catch(h){console.error("ファイルの読み込みに失敗しました:",h),P("ファイルの読み込みに失敗しました。正しいicsファイルを選択してください。","error")}},y.readAsText(f),m.target.value=""},P=(m,f="info")=>{const y={id:Date.now(),message:m,type:f};Q(j=>[...j,y]),setTimeout(()=>{Q(j=>j.filter(r=>r.id!==y.id))},3e3)};return{meetings:a,showForm:d,editingMeeting:c,inlineEditingId:p,inlineEditingData:S,showImportDialog:k,showTimeDialog:H,timeDialogData:_,notificationTimes:D,formData:M,validationErrors:K,toasts:ge,privacyMode:se,isDemoMode:t,addMeeting:ne,editMeeting:xe,startInlineEdit:ue,cancelInlineEdit:fe,saveInlineEdit:he,updateInlineMeetingField:ye,updateInlinePreferredOption:pe,updateMeetingResult:be,deleteMeeting:je,confirmMeeting:Ne,finalizeConfirmation:ie,resetConfirmation:ve,handleIcsImport:ke,showToast:P,removeToast:m=>{Q(f=>f.filter(y=>y.id!==m))},handleImageUpload:m=>{var y;const f=(y=m.target.files)==null?void 0:y[0];if(f){const j=new FileReader;j.onload=r=>{var h;const n=(h=r.target)==null?void 0:h.result;typeof n=="string"&&w({...M,image:n})},j.readAsDataURL(f)}},removeImage:()=>{w({...M,image:""})},updatePreferredOption:(m,f,y)=>{const j=[...M.preferredOptions];j[m]={...j[m],[f]:y},w({...M,preferredOptions:j})},resetForm:()=>{g(!1),x(null),w(ce())},openNewMeetingForm:()=>{x(null),w(ce()),g(!d),d||setTimeout(()=>{const m=document.getElementById("meeting-form");m&&m.scrollIntoView({behavior:"smooth",block:"start"})},100)},togglePrivacyMode:()=>{F(!se)},toggleDemoMode:s,scrollToMeeting:m=>{const f=document.getElementById(`meeting-${m}`);f&&(f.scrollIntoView({behavior:"smooth",block:"center"}),f.classList.add("ring-2","ring-blue-500","ring-opacity-50"),setTimeout(()=>{f.classList.remove("ring-2","ring-blue-500","ring-opacity-50")},2e3))},handleDataExport:()=>{try{Kt(a),P("データをエクスポートしました","success")}catch(m){console.error("データエクスポートエラー:",m),P("データのエクスポートに失敗しました","error")}},handleDataImport:async m=>{var y;const f=(y=m.target.files)==null?void 0:y[0];if(f){try{const j=await Qt(f);l(j),P(`${j.length}件の面談データをインポートしました`,"success")}catch(j){console.error("データインポートエラー:",j),P("データのインポートに失敗しました: "+j.message,"error")}m.target.value=""}},setShowImportDialog:C,setShowTimeDialog:Y,setFormData:w}},ar=()=>{const[t,s]=v.useState("light");return v.useEffect(()=>{const a=localStorage.getItem("theme");a&&(a==="light"||a==="dark")&&s(a)},[]),v.useEffect(()=>{const a=document.documentElement;a.classList.remove("dark","light"),t==="dark"?a.classList.add("dark"):a.classList.add("light"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{s(t==="light"?"dark":"light")}}},Be=/(https?:\/\/[^\s]+)/g,me=(t,s=!1)=>{if(!t)return[];const o=t.split(`
`),a=[];return o.forEach((l,d)=>{if(l.trim()===""){a.push(e.jsx("br",{},`br-${d}`));return}const g=l.split(Be),c=[];g.forEach((x,p)=>{Be.test(x)?c.push(e.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:`underline break-all ${s?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:x},`link-${d}-${p}`)):x&&c.push(x)}),a.push(e.jsx("span",{children:c},`line-${d}`)),d<o.length-1&&a.push(e.jsx("br",{},`br-after-${d}`))}),a},sr=(t,s=!1)=>{const o=me(t,s);return e.jsx(e.Fragment,{children:o})},Ge=["bg-blue-500","bg-green-500","bg-purple-500","bg-red-500","bg-orange-500","bg-teal-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-cyan-500"],U=(t,s)=>{const a=[...s].sort((g,c)=>g-c).indexOf(t);if(a===-1)return"? さん";const l=String.fromCharCode(65+a%26),d=Math.floor(a/26)+1;return`${l.repeat(d)} さん`},re=(t,s)=>{const a=[...s].sort((d,g)=>d-g).indexOf(t);if(a===-1)return"bg-gray-500";const l=a%Ge.length;return Ge[l]},nr=(t,s)=>{const o=t.find(a=>a.name===s);return(o==null?void 0:o.id)||0},ir=({isOpen:t,theme:s,onClose:o,onDataExport:a,onDataImport:l})=>t?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:`rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transition-colors ${s==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(qe,{className:`mr-2 ${s==="dark"?"text-gray-400":"text-gray-500"}`,size:20}),e.jsx("h3",{className:`text-lg font-semibold ${s==="dark"?"text-gray-100":"text-gray-800"}`,children:"開発者ツール"})]}),e.jsx("button",{onClick:o,className:`transition-colors ${s==="dark"?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,title:"閉じる",children:e.jsx(ae,{size:20})})]}),e.jsx("p",{className:`text-sm mb-4 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"面談データのバックアップとリストア機能です。"}),e.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[e.jsxs("button",{onClick:()=>{a(),o()},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center",title:"全データをJSONファイルにエクスポート",children:[e.jsx(ht,{className:"mr-2",size:20}),"データエクスポート"]}),e.jsxs("label",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center cursor-pointer",children:[e.jsx(pt,{className:"mr-2",size:20}),"データインポート",e.jsx("input",{type:"file",accept:".json",onChange:d=>{l(d),o()},className:"hidden"})]})]}),e.jsxs("div",{className:`p-3 rounded-md text-xs ${s==="dark"?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:[e.jsx("p",{className:"font-medium mb-1",children:"⚠️ 注意事項"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"データインポートは現在の全データを上書きします"}),e.jsx("li",{children:"インポート前に必要に応じてデータエクスポートでバックアップを作成してください"}),e.jsx("li",{children:"JSONファイルのみ対応しています"})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:o,className:`px-4 py-2 transition-colors ${s==="dark"?"text-gray-300 hover:text-gray-100":"text-gray-600 hover:text-gray-800"}`,children:"閉じる"})})]})}):null,or=({theme:t,privacyMode:s,isDemoMode:o,onToggleTheme:a,onTogglePrivacyMode:l,onToggleDemoMode:d,onOpenDeveloperTools:g})=>{const[c,x]=v.useState(!1),p=()=>x(!c),N=()=>x(!1),S=k=>{k()},I=k=>{k(),N()};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:p,className:"theme-toggle",title:"メニューを開く",children:e.jsx(Nt,{})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black z-40",onClick:N,style:{opacity:.5}}),e.jsx("div",{className:`fixed top-0 right-0 h-full w-full md:w-80 z-50 transform transition-transform duration-300 ease-in-out shadow-lg ${c?"translate-x-0":"translate-x-full"} ${t==="dark"?"bg-gray-800":"bg-white"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${t==="dark"?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:"メニュー"}),e.jsx("button",{onClick:N,className:"theme-toggle",children:e.jsx(ae,{})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:`text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"設定"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>S(a),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${t==="dark"?"bg-gray-700 hover:bg-gray-600 text-gray-100":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[t==="light"?e.jsx(zt,{className:"mr-2 w-5 h-5"}):e.jsx(wt,{className:"mr-2 w-5 h-5"}),e.jsx("span",{children:"テーマ"})]}),e.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:t==="light"?"ライト":"ダーク"})]}),e.jsxs("button",{onClick:()=>S(l),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${t==="dark"?"bg-gray-700 hover:bg-gray-600 text-gray-100":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[s?e.jsx(mt,{className:"mr-2 w-5 h-5"}):e.jsx(xt,{className:"mr-2 w-5 h-5"}),e.jsx("span",{children:"プライバシーモード"})]}),e.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:s?"ON":"OFF"})]}),e.jsxs("button",{onClick:()=>S(d),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${o?"bg-green-600 text-white hover:bg-green-700":t==="dark"?"bg-gray-700 hover:bg-gray-600 text-gray-100":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"mr-2 w-5 h-5"}),e.jsx("span",{children:"デモモード"})]}),e.jsx("span",{className:`text-sm ${o?"text-green-100":t==="dark"?"text-gray-400":"text-gray-600"}`,children:o?"ON":"OFF"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:`text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"ツール"}),e.jsxs("button",{onClick:()=>I(g),className:`w-full flex items-center p-3 rounded-lg transition-colors ${t==="dark"?"bg-gray-700 hover:bg-gray-600 text-gray-100":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:[e.jsx(qe,{className:"mr-2 w-5 h-5"}),e.jsx("span",{children:"開発者ツール"})]})]})]})})]})})]})},lr=()=>{const{theme:t,toggleTheme:s}=ar(),[o,a]=v.useState(new Set),[l,d]=v.useState(!0),[g,c]=v.useState(!1),[x,p]=v.useState("scheduled"),{meetings:N,showForm:S,editingMeeting:I,inlineEditingId:k,inlineEditingData:C,showImportDialog:H,showTimeDialog:Y,timeDialogData:_,notificationTimes:q,formData:D,validationErrors:R,toasts:M,privacyMode:w,isDemoMode:K,addMeeting:De,startInlineEdit:ge,cancelInlineEdit:Q,saveInlineEdit:se,updateInlineMeetingField:F,updateInlinePreferredOption:ne,updateMeetingResult:xe,deleteMeeting:ue,confirmMeeting:fe,finalizeConfirmation:he,resetConfirmation:ye,handleIcsImport:pe,removeToast:be,handleImageUpload:je,removeImage:Ne,updatePreferredOption:ie,resetForm:ve,openNewMeetingForm:ke,togglePrivacyMode:P,toggleDemoMode:Me,scrollToMeeting:ee,handleDataExport:Ee,handleDataImport:Ce,setShowImportDialog:we,setShowTimeDialog:Oe,setFormData:W}=rr(),oe=Gt(N);Yt(N);const Te=qt(N,l),L=N.map(r=>r.id),m=N.filter(r=>r.status==="pending"&&r.preferredOptions.filter(n=>n.date&&n.timeSlot).length===0),f=Te.reduce((r,n)=>{const h=n.confirmedDate;return r[h]||(r[h]=[]),r[h].push(n),r},{}),y=Object.keys(f).sort((r,n)=>new Date(r).getTime()-new Date(n).getTime()),j=()=>{p("scheduled"),ke()};return e.jsxs("div",{className:`max-w-6xl mx-auto p-0 md:p-6 min-h-screen transition-colors ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:[e.jsxs("div",{className:`rounded-none md:rounded-lg shadow-none md:shadow-lg p-4 md:p-6 mb-4 md:mb-6 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:`text-3xl font-bold mb-2 flex items-center ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:[e.jsx(Le,{className:`mr-3 ${t==="dark"?"text-blue-400":"text-blue-600"}`}),"面談・ミーティング調整ツール",K&&e.jsx("span",{className:"ml-3 px-2 py-1 text-xs bg-green-600 text-white rounded-full font-normal",children:"デモモード"})]}),e.jsxs("p",{className:t==="dark"?"text-gray-300":"text-gray-600",children:["複数の人との面談日程を効率的に調整し、重複を防ぎます",K&&e.jsx("span",{className:"block mt-1 text-sm text-green-600 font-medium",children:"現在サンプルデータを表示しています。実際のデータは保存されません。"})]})]}),e.jsx(or,{theme:t,privacyMode:w,isDemoMode:K,onToggleTheme:s,onTogglePrivacyMode:P,onToggleDemoMode:Me,onOpenDeveloperTools:()=>c(!0)})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:j,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ot,{className:"mr-2",size:20}),"新しい面談を追加"]}),e.jsxs("button",{onClick:()=>we(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Pt,{className:"mr-2",size:20}),"icsファイルをインポート"]})]})]}),(Object.keys(oe).length>0||m.length>0)&&e.jsxs("div",{className:`rounded-none md:rounded-lg shadow-none md:shadow-lg p-4 md:p-6 mb-4 md:mb-6 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsxs("h2",{className:`text-xl font-semibold mb-4 flex items-center ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:[e.jsx(Ht,{className:`mr-2 ${t==="dark"?"text-green-400":"text-green-600"}`}),"予定サマリー"]}),Object.keys(oe).length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:t==="dark"?"bg-gray-700":"bg-gray-50",children:[e.jsx("th",{className:`border px-2 py-3 text-left text-sm font-semibold ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:"日付"}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["10:00",e.jsx("br",{}),"~11:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["11:00",e.jsx("br",{}),"~12:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["12:00",e.jsx("br",{}),"~13:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["13:00",e.jsx("br",{}),"~14:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["14:00",e.jsx("br",{}),"~15:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["15:00",e.jsx("br",{}),"~16:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["16:00",e.jsx("br",{}),"~17:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["17:00",e.jsx("br",{}),"~18:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["18:00",e.jsx("br",{}),"~19:00"]}),e.jsxs("th",{className:`border px-2 py-3 text-center text-xs font-semibold w-24 ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-700"}`,children:["19:00",e.jsx("br",{}),"~20:00"]})]})}),e.jsx("tbody",{children:Object.entries(oe).map(([r,n])=>{const h=N.filter(i=>i.status==="confirmed"&&i.confirmedDate===r&&i.confirmedStartTime&&i.confirmedEndTime);return e.jsxs("tr",{className:t==="dark"?"hover:bg-gray-600":"hover:bg-gray-50",children:[e.jsx("td",{className:`border px-2 py-3 font-medium whitespace-nowrap ${t==="dark"?"border-gray-600 text-gray-200":"border-gray-200 text-gray-800"}`,children:Zt(r)}),Array.from({length:10},(i,b)=>b+10).map(i=>{const b=n.filter(u=>{if(u.timeSlot==="allday"||u.timeSlot==="morning"&&i>=10&&i<=12||u.timeSlot==="afternoon"&&i>=13&&i<=16||u.timeSlot==="evening"&&i>=17&&i<=19)return!0;if(u.timeSlot.includes("-")){const[O,z]=u.timeSlot.split("-").map(Number);return i>=O&&i<z}return!1}),$=h.filter(u=>{if(u.confirmedStartTime&&u.confirmedEndTime){const O=parseInt(u.confirmedStartTime.split(":")[0]),z=parseInt(u.confirmedEndTime.split(":")[0]);return i>=O&&i<z}if(u.confirmedTimeSlot==="allday"||u.confirmedTimeSlot==="morning"&&i>=10&&i<=12||u.confirmedTimeSlot==="afternoon"&&i>=13&&i<=16||u.confirmedTimeSlot==="evening"&&i>=17&&i<=19)return!0;if(u.confirmedTimeSlot&&u.confirmedTimeSlot.includes("-")){const[O,z]=u.confirmedTimeSlot.split("-").map(Number);return i>=O&&i<z}return!1}),Z=$.length>0,E=b.length>0,B=b.length>1||$.length>1||b.length>0&&$.length>0;return e.jsx("td",{className:`border px-2 py-3 text-center min-h-24 w-24 ${t==="dark"?"border-gray-600":"border-gray-200"} ${!E&&!Z?t==="dark"?"bg-gray-700":"bg-gray-50":B?t==="dark"?"bg-red-900/30":"bg-red-50":Z?t==="dark"?"bg-green-900/30":"bg-green-50":t==="dark"?"bg-blue-900/30":"bg-blue-50"}`,children:!E&&!Z?e.jsx("div",{className:"text-xs text-gray-400",children:"-"}):e.jsxs("div",{className:"space-y-1",children:[$.map((u,O)=>e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[w?e.jsx("div",{className:`w-10 h-10 ${re(u.id,L)} rounded-full mx-auto flex items-center justify-center`,title:`${U(u.id,L)}（確定）`,children:e.jsx(A,{className:"text-white",size:20})}):u.image?e.jsx("img",{src:u.image,alt:u.name,className:"w-10 h-10 rounded-full object-cover border mx-auto",title:`${u.name}（確定）`}):e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full mx-auto flex items-center justify-center",title:`${u.name}（確定）`,children:e.jsx(A,{className:"text-white",size:20})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-1",children:(u.meetingType||"offline")==="online"?e.jsx(G,{className:"w-5 h-5 text-cyan-500 bg-white rounded-full p-0.5 border border-gray-200",size:18}):e.jsx(V,{className:"w-5 h-5 text-orange-600 bg-white rounded-full p-0.5 border border-gray-200",size:18})})]}),e.jsx("button",{onClick:()=>ee(u.id),className:`text-xs font-medium mt-0.5 leading-tight break-words cursor-pointer hover:underline transition-all ${t==="dark"?"text-green-300 hover:text-green-200":"text-green-700 hover:text-green-800"}`,children:w?U(u.id,L):u.name.length>8?u.name.substring(0,6)+"…":u.name}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-green-400":"text-green-600"}`,children:u.confirmedTimeSlot==="allday"&&!u.confirmedStartTime&&!u.confirmedEndTime?"確定（終日）":"確定"})]}),B&&O===0&&e.jsx(J,{className:"text-red-500 absolute -top-1 -right-1",size:8})]},`confirmed-${O}`)),b.map((u,O)=>{const z=nr(N,u.meetingName);return e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[w?e.jsx("div",{className:`w-10 h-10 ${re(z,L)} rounded-full mx-auto opacity-70 flex items-center justify-center`,title:`${U(z,L)}（第${u.priority}希望）`,children:e.jsx(A,{className:"text-white",size:20})}):u.meetingImage?e.jsx("img",{src:u.meetingImage,alt:u.meetingName,className:"w-10 h-10 rounded-full object-cover border mx-auto opacity-70",title:`${u.meetingName}（第${u.priority}希望）`}):e.jsx("div",{className:"w-10 h-10 bg-blue-400 rounded-full mx-auto opacity-70 flex items-center justify-center",title:`${u.meetingName}（第${u.priority}希望）`,children:e.jsx(A,{className:"text-white",size:20})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-1",children:(u.meetingType||"offline")==="online"?e.jsx(G,{className:"w-5 h-5 text-cyan-500 bg-white rounded-full p-0.5 border border-gray-200 opacity-80",size:18}):e.jsx(V,{className:"w-5 h-5 text-orange-600 bg-white rounded-full p-0.5 border border-gray-200 opacity-80",size:18})})]}),e.jsx("button",{onClick:()=>ee(z),className:`text-xs font-medium mt-0.5 leading-tight break-words cursor-pointer hover:underline transition-all ${t==="dark"?"text-blue-300 hover:text-blue-200":"text-blue-700 hover:text-blue-800"}`,children:w?U(z,L):u.meetingName.length>8?u.meetingName.substring(0,6)+"…":u.meetingName}),e.jsx("div",{className:`text-xs ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:u.timeSlot==="allday"?`第${u.priority}希望（終日）`:`第${u.priority}希望`})]}),B&&O===0&&e.jsx(J,{className:"text-red-500 absolute -top-1 -right-1",size:8})]},`schedule-${O}`)})]})},i)})]},r)})})]})}),m.length>0&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("h3",{className:`text-lg font-semibold mb-3 flex items-center ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:[e.jsx(_e,{className:`mr-2 ${t==="dark"?"text-yellow-400":"text-yellow-600"}`,size:18}),"日時未定の面談 (",m.length,"件)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.map(r=>{const n=r.id;return e.jsx("div",{className:`p-3 rounded-lg border transition-all hover:shadow-md ${t==="dark"?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-yellow-50 border-yellow-200 hover:bg-yellow-100"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[w?e.jsx("div",{className:`w-8 h-8 ${re(n,L)} rounded-full flex items-center justify-center`,title:U(n,L),children:e.jsx(A,{className:"text-white",size:16})}):r.image?e.jsx("img",{src:r.image,alt:r.name,className:"w-8 h-8 rounded-full object-cover border",title:r.name}):e.jsx("div",{className:"w-8 h-8 bg-blue-400 rounded-full flex items-center justify-center",title:r.name,children:e.jsx(A,{className:"text-white",size:16})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-1",children:(r.meetingType||"offline")==="online"?e.jsx(G,{className:"w-4 h-4 text-cyan-500 bg-white rounded-full p-0.5 border border-gray-200",size:14}):e.jsx(V,{className:"w-4 h-4 text-orange-600 bg-white rounded-full p-0.5 border border-gray-200",size:14})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("button",{onClick:()=>ee(n),className:`font-medium text-sm hover:underline cursor-pointer transition-colors ${t==="dark"?"text-blue-300 hover:text-blue-200":"text-blue-700 hover:text-blue-800"}`,children:w?U(n,L):r.name}),e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"日時未定"}),r.notes&&e.jsx("div",{className:"text-xs mt-1 truncate text-gray-500",children:w?`${U(n,L)}のメモ`:r.notes.length>30?`${r.notes.substring(0,30)}...`:r.notes}),r.meetingLocation&&e.jsxs("div",{className:`text-xs mt-1 flex items-center ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(V,{size:10,className:"mr-1"}),e.jsx("span",{className:"truncate",children:me(r.meetingLocation).length>20?`${r.meetingLocation.substring(0,20)}...`:r.meetingLocation})]})]})]})},r.id)})})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-3 h-3 border rounded ${t==="dark"?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`}),e.jsx("span",{className:t==="dark"?"text-gray-300":"text-gray-600",children:"空き"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-3 h-3 border rounded ${t==="dark"?"bg-blue-900/30 border-blue-700":"bg-blue-50 border-blue-200"}`}),e.jsx("span",{className:t==="dark"?"text-gray-300":"text-gray-600",children:"予定あり"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-3 h-3 border rounded ${t==="dark"?"bg-green-900/30 border-green-700":"bg-green-50 border-green-200"}`}),e.jsx("span",{className:t==="dark"?"text-gray-300":"text-gray-600",children:"確定"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-3 h-3 border rounded ${t==="dark"?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200"}`}),e.jsx("span",{className:t==="dark"?"text-gray-300":"text-gray-600",children:"重複"}),e.jsx(J,{className:"text-red-500 ml-1",size:12})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"text-cyan-500",size:16}),e.jsx("span",{className:t==="dark"?"text-gray-300":"text-gray-600",children:"オンライン"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(V,{className:"text-orange-600",size:16}),e.jsx("span",{className:t==="dark"?"text-gray-300":"text-gray-600",children:"対面"})]})]})]}),Te.length>0&&e.jsxs("div",{className:`rounded-none md:rounded-lg shadow-none md:shadow-lg p-4 md:p-6 mb-4 md:mb-6 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:`text-xl font-semibold flex items-center mb-4 ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:[e.jsx(Re,{className:`mr-2 ${t==="dark"?"text-green-400":"text-green-600"}`}),"確定面談一覧"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-3",children:[e.jsx("button",{onClick:()=>d(!l),className:`px-3 py-2 text-sm rounded-md transition-colors w-full md:w-auto ${l?t==="dark"?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-100 text-blue-800 hover:bg-blue-200":t==="dark"?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:l?"過去を含む":"今後のみ"}),e.jsxs("button",{onClick:()=>Jt(N,q),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-sm w-full md:w-auto",title:"確定済みの全ての面談を統合したICSファイルをダウンロード",children:[e.jsx(Ae,{className:"mr-2",size:16}),"統合ICSエクスポート"]})]})]}),e.jsx("div",{className:"space-y-6",children:y.map(r=>{const n=f[r],h=n.every(i=>i.isPast);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-center gap-3 pb-2 border-b ${t==="dark"?"border-gray-600":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${h?t==="dark"?"text-gray-400":"text-gray-500":t==="dark"?"text-gray-100":"text-gray-800"}`,children:te(r)}),e.jsxs("span",{className:`text-sm px-2 py-1 rounded-full ${h?t==="dark"?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-600":t==="dark"?"bg-green-800 text-green-300":"bg-green-100 text-green-700"}`,children:[n.length,"件"]})]}),e.jsx("div",{className:"space-y-3",children:n.map(i=>e.jsxs("div",{className:`p-4 rounded-lg border transition-all ${i.isPast?t==="dark"?"bg-gray-800/50 border-gray-600 opacity-60":"bg-gray-100/70 border-gray-300 opacity-70":t==="dark"?"bg-green-900/20 border-green-700":"bg-green-50 border-green-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[w?e.jsx("div",{className:`w-12 h-12 ${re(i.id,L)} rounded-full mr-3 flex items-center justify-center`,children:e.jsx(A,{className:"text-white",size:20})}):i.image?e.jsx("img",{src:i.image,alt:i.name,className:"w-12 h-12 rounded-full mr-3 object-cover border"}):e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full mr-3 flex items-center justify-center",children:e.jsx(A,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>ee(i.id),className:`font-medium cursor-pointer hover:underline transition-all text-left ${t==="dark"?"text-gray-100 hover:text-gray-50":"text-gray-800 hover:text-gray-900"}`,children:w?U(i.id,L):i.name}),e.jsxs("div",{className:`text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[te(i.confirmedDate),i.confirmedStartTime&&i.confirmedEndTime&&e.jsxs("span",{className:"ml-2",children:[i.confirmedStartTime," - ",i.confirmedEndTime]}),!i.confirmedStartTime&&i.confirmedTimeSlot&&e.jsxs("span",{className:"ml-2",children:["(",le(i.confirmedTimeSlot),")"]})]}),i.meetingLocation&&e.jsxs("div",{className:`text-sm mt-1 flex items-start ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[(i.meetingType||"offline")==="online"?e.jsx(G,{className:"mr-1 text-cyan-500 mt-0.5 flex-shrink-0",size:14}):e.jsx(V,{className:"mr-1 text-orange-600 mt-0.5 flex-shrink-0",size:14}),e.jsx("div",{children:w?"場所情報は非表示です":e.jsx(e.Fragment,{children:me(i.meetingLocation,t==="dark")})})]})]})]}),e.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded ${i.isPast?t==="dark"?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600":t==="dark"?"bg-green-700 text-green-100":"bg-green-100 text-green-800"}`,children:i.isPast?"完了":"確定済み"})]}),e.jsxs("div",{className:`border-t pt-3 ${t==="dark"?"border-green-800":"border-green-300"}`,children:[e.jsxs("button",{onClick:()=>{const b=new Set(o);o.has(i.id)?b.delete(i.id):b.add(i.id),a(b)},className:`flex items-center w-full hover:bg-opacity-50 rounded p-1 -m-1 transition-colors ${t==="dark"?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:[e.jsx($t,{className:`mr-2 ${t==="dark"?"text-green-400":"text-green-600"}`,size:16}),e.jsxs("span",{className:`text-sm font-medium flex-1 text-left ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:["面談結果・メモ",i.meetingResult&&i.meetingResult.trim()&&e.jsx("span",{className:`ml-2 text-xs ${t==="dark"?"text-green-400":"text-green-600"}`,children:"(記入済み)"})]}),o.has(i.id)?e.jsx(ot,{className:`${t==="dark"?"text-gray-400":"text-gray-600"}`,size:16}):e.jsx(nt,{className:`${t==="dark"?"text-gray-400":"text-gray-600"}`,size:16})]}),o.has(i.id)&&e.jsx("div",{className:"mt-2",children:w?e.jsx("div",{className:`text-sm p-2 rounded ${t==="dark"?"bg-gray-700 text-gray-400":"bg-gray-100 text-gray-500"}`,children:"プライバシーモードではメモは非表示です"}):e.jsx("textarea",{value:i.meetingResult||"",onChange:b=>xe(i.id,b.target.value),placeholder:"面談の結果や感想を記入してください...",className:`w-full p-2 text-sm border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-green-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`,rows:3})})]})]},i.id))})]},r)})})]}),H&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:`rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:"icsファイルをインポート"}),e.jsx("p",{className:`mb-4 text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"カレンダーアプリからエクスポートしたicsファイルを選択してください。 イベント情報が面談として追加されます。"}),e.jsx("div",{className:"mb-6",children:e.jsx("input",{type:"file",accept:".ics",onChange:pe,className:`w-full text-sm cursor-pointer ${t==="dark"?"text-gray-300":"text-gray-500"} file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-green-50 file:text-green-700 hover:file:bg-green-100`})}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsx("button",{onClick:()=>we(!1),className:`px-4 py-2 transition-colors ${t==="dark"?"text-gray-300 hover:text-gray-100":"text-gray-600 hover:text-gray-800"}`,children:"キャンセル"})})]})}),Y&&_&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:`rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:"詳細時刻設定"}),e.jsxs("p",{className:`mb-4 text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[te(_.date)," (",le(_.timeSlot),")"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"開始時刻"}),e.jsx("input",{type:"time",id:"startTime",defaultValue:Ue(_.timeSlot)[0],className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"終了時刻"}),e.jsx("input",{type:"time",id:"endTime",defaultValue:Ue(_.timeSlot)[1],className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-6",children:[e.jsx("button",{onClick:()=>{Oe(!1)},className:`px-4 py-2 transition-colors ${t==="dark"?"text-gray-300 hover:text-gray-100":"text-gray-600 hover:text-gray-800"}`,children:"キャンセル"}),e.jsx("button",{onClick:()=>{const r=document.getElementById("startTime"),n=document.getElementById("endTime"),h=r==null?void 0:r.value,i=n==null?void 0:n.value;h&&i?he(h,i):alert("開始時刻と終了時刻を入力してください")},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"確定"})]})]})}),S&&e.jsxs("div",{id:"meeting-form",className:`rounded-none md:rounded-lg shadow-none md:shadow-lg p-4 md:p-6 mb-4 md:mb-6 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsxs("h2",{className:`text-xl font-semibold mb-4 flex items-center ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:[e.jsx(A,{className:`mr-2 ${t==="dark"?"text-green-400":"text-green-600"}`}),I?"面談を編集":"新しい面談を追加"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"名前 *"}),e.jsx("input",{type:"text",value:D.name,onChange:r=>W({...D,name:r.target.value}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${R.name?t==="dark"?"border-red-500 bg-red-900/20 text-gray-100":"border-red-300 bg-red-50":t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,placeholder:"面談相手の名前"}),R.name&&e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-red-400":"text-red-600"}`,children:R.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"画像（任意）"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[D.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D.image,alt:"プレビュー",className:"w-12 h-12 rounded-full object-cover border"}),e.jsx("button",{onClick:Ne,className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:e.jsx(ae,{size:12})})]}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(ze,{className:"text-gray-400",size:20})}),e.jsx("input",{type:"file",accept:"image/*",onChange:je,className:`text-sm file:mr-4 file:py-1 file:px-2 file:rounded file:border-0 file:text-sm file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 ${t==="dark"?"text-gray-300":"text-gray-500"}`})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"面談日時の設定"}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:`flex items-center ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"dateTimeMode",value:"scheduled",checked:x==="scheduled",onChange:r=>p(r.target.value),className:"mr-2"}),"希望日時を指定する"]}),e.jsxs("label",{className:`flex items-center ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"dateTimeMode",value:"undetermined",checked:x==="undetermined",onChange:r=>p(r.target.value),className:"mr-2"}),"日時未定"]})]})}),x==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"希望日程と時間帯"}),e.jsx("div",{className:"space-y-3",children:D.preferredOptions.map((r,n)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"w-16 text-sm font-medium text-gray-600",children:["第",n+1,"希望",""]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"date",value:r.date,min:Ve(),onChange:h=>ie(n,"date",h.target.value),className:`w-full px-2 py-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${R[`date_${n}`]?t==="dark"?"border-red-500 bg-red-900/20 text-gray-100":"border-red-300 bg-red-50":t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`}),R[`date_${n}`]&&e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-red-400":"text-red-600"}`,children:R[`date_${n}`]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("select",{value:r.timeSlot,onChange:h=>ie(n,"timeSlot",h.target.value),className:`w-full px-2 py-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${R[`timeSlot_${n}`]?t==="dark"?"border-red-500 bg-red-900/20 text-gray-100":"border-red-300 bg-red-50":t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"時間帯を選択"}),$e.map(h=>{if(h.disabled)return e.jsx("option",{value:"",disabled:!0,className:"text-gray-400",children:h.label},h.value);const i=de(r.date,h.value,N,I,D,n);return e.jsxs("option",{value:h.value,className:i?"text-orange-600":"",children:[h.label,i?" (重複)":""]},h.value)})]}),R[`timeSlot_${n}`]&&e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-red-400":"text-red-600"}`,children:R[`timeSlot_${n}`]}),r.date&&r.timeSlot&&de(r.date,r.timeSlot,N,I,D,n)&&e.jsxs("div",{className:"text-orange-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{size:12,className:"mr-1"}),"この日時は既に他の希望と重複しています"]})]})]},n))})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"面談形式"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:`flex items-center ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"meetingType",value:"offline",checked:(D.meetingType||"offline")==="offline",onChange:r=>W({...D,meetingType:r.target.value}),className:"mr-2"}),e.jsx(V,{className:"mr-1 text-orange-600",size:16}),"対面"]}),e.jsxs("label",{className:`flex items-center ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"meetingType",value:"online",checked:(D.meetingType||"offline")==="online",onChange:r=>W({...D,meetingType:r.target.value}),className:"mr-2"}),e.jsx(G,{className:"mr-1 text-cyan-500",size:16}),"オンライン"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"場所・URL"}),e.jsx("input",{type:"text",value:D.meetingLocation||"",onChange:r=>W({...D,meetingLocation:r.target.value}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,placeholder:(D.meetingType||"offline")==="online"?"Zoom URL、Google Meet リンクなど":"会議室名、住所、待ち合わせ場所など"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"備考"}),e.jsx("textarea",{value:D.notes,onChange:r=>W({...D,notes:r.target.value}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,rows:6,placeholder:"面談の目的や特記事項など"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>De(x),disabled:Object.keys(Se(D,x)).length>0,className:`px-4 py-2 rounded-md transition-colors ${Object.keys(Se(D,x)).length>0?"bg-gray-400 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:I?"更新":"追加"}),e.jsx("button",{onClick:ve,className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"キャンセル"})]})]}),e.jsxs("div",{className:`rounded-none md:rounded-lg shadow-none md:shadow-lg p-4 md:p-6 transition-colors ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[e.jsxs("h2",{className:`text-xl font-semibold mb-4 ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:["面談リスト (",N.length,"件)"]}),N.length===0?e.jsx("div",{className:`text-center py-8 ${t==="dark"?"text-gray-400":"text-gray-500"}`,children:"まだ面談が登録されていません"}):e.jsx("div",{className:"space-y-4",children:N.map(r=>e.jsx("div",{id:`meeting-${r.id}`,className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${t==="dark"?"border-gray-600 bg-gray-700":"border-gray-200 bg-white"}`,children:k===r.id?(()=>{const n=C||r;return e.jsxs("div",{children:[e.jsxs("h2",{className:`text-xl font-semibold mb-4 flex items-center ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:[e.jsx(A,{className:`mr-2 ${t==="dark"?"text-green-400":"text-green-600"}`}),"面談を編集"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"名前 *"}),e.jsx("input",{type:"text",value:n.name,onChange:h=>F(r.id,"name",h.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.name.trim()?t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300":t==="dark"?"border-red-500 bg-red-900/20 text-gray-100":"border-red-300 bg-red-50"}`,placeholder:"面談相手の名前"}),!n.name.trim()&&e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-red-400":"text-red-600"}`,children:"名前は必須です"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"画像（任意）"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.image,alt:"プレビュー",className:"w-12 h-12 rounded-full object-cover border"}),e.jsx("button",{onClick:()=>F(r.id,"image",""),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:e.jsx(ae,{size:12})})]}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(ze,{className:"text-gray-400",size:20})}),e.jsx("input",{type:"file",accept:"image/*",onChange:h=>{var b;const i=(b=h.target.files)==null?void 0:b[0];if(i){const $=new FileReader;$.onload=Z=>{var B;const E=(B=Z.target)==null?void 0:B.result;typeof E=="string"&&F(r.id,"image",E)},$.readAsDataURL(i)}},className:`text-sm file:mr-4 file:py-1 file:px-2 file:rounded file:border-0 file:text-sm file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 ${t==="dark"?"text-gray-300":"text-gray-500"}`})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"面談日時の設定"}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:`flex items-center ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:`dateTimeMode-${r.id}`,value:"scheduled",checked:n.preferredOptions.length>0,onChange:()=>{const h=Array(5).fill(null).map(()=>({date:"",timeSlot:""}));F(r.id,"preferredOptions",h)},className:"mr-2"}),"希望日時を指定する"]}),e.jsxs("label",{className:`flex items-center ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("input",{type:"radio",name:`dateTimeMode-${r.id}`,value:"undetermined",checked:n.preferredOptions.length===0,onChange:()=>{F(r.id,"preferredOptions",[])},className:"mr-2"}),"日時未定"]})]})}),n.preferredOptions.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"希望日程と時間帯"}),e.jsx("div",{className:"space-y-3",children:Array.from({length:5},(h,i)=>{const b=n.preferredOptions[i]||{date:"",timeSlot:""},$={name:n.name,image:n.image,notes:n.notes,meetingType:n.meetingType||"offline",preferredOptions:n.preferredOptions.length>=5?n.preferredOptions:[...n.preferredOptions,...Array(5-n.preferredOptions.length).fill({date:"",timeSlot:""})]},Z=b.date&&b.timeSlot&&de(b.date,b.timeSlot,N,r,$,i);return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:`w-16 text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:["第",i+1,"希望",i===0?" *":""]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"date",value:b.date,min:Ve(),onChange:E=>ne(r.id,i,"date",E.target.value),className:`w-full px-2 py-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${i===0&&!b.date?t==="dark"?"border-red-500 bg-red-900/20 text-gray-100":"border-red-300 bg-red-50":t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`}),i===0&&!b.date&&e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-red-400":"text-red-600"}`,children:"第1希望の日程は必須です"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("select",{value:b.timeSlot,onChange:E=>ne(r.id,i,"timeSlot",E.target.value),className:`w-full px-2 py-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${i===0&&!b.timeSlot?t==="dark"?"border-red-500 bg-red-900/20 text-gray-100":"border-red-300 bg-red-50":t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"時間帯を選択"}),$e.map(E=>{if(E.disabled)return e.jsx("option",{value:"",disabled:!0,className:"text-gray-400",children:E.label},E.value);const B={name:n.name,image:n.image,notes:n.notes,meetingType:n.meetingType||"offline",preferredOptions:n.preferredOptions.length>=5?n.preferredOptions.map((O,z)=>z===i?{...O,timeSlot:E.value}:O):[...n.preferredOptions.map((O,z)=>z===i?{...O,timeSlot:E.value}:O),...Array(Math.max(0,5-n.preferredOptions.length)).fill({date:"",timeSlot:""})]},u=b.date&&de(b.date,E.value,N,r,B,i);return e.jsxs("option",{value:E.value,className:u?"text-orange-600":"",children:[E.label,u?" (重複)":""]},E.value)})]}),i===0&&!b.timeSlot&&e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-red-400":"text-red-600"}`,children:"第1希望の時間帯は必須です"}),Z&&e.jsxs("div",{className:"text-orange-600 text-xs mt-1 flex items-center",children:[e.jsx(J,{size:12,className:"mr-1"}),"この日時は既に他の希望と重複しています"]})]})]},i)})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"面談形式"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`meetingType-${r.id}`,value:"offline",checked:(n.meetingType||"offline")==="offline",onChange:h=>F(r.id,"meetingType",h.target.value),className:"mr-2"}),e.jsx(V,{className:"mr-1",size:16}),e.jsx("span",{className:t==="dark"?"text-gray-200":"text-gray-800",children:"対面"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`meetingType-${r.id}`,value:"online",checked:(n.meetingType||"offline")==="online",onChange:h=>F(r.id,"meetingType",h.target.value),className:"mr-2"}),e.jsx(G,{className:"mr-1",size:16}),e.jsx("span",{className:t==="dark"?"text-gray-200":"text-gray-800",children:"オンライン"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"場所・URL"}),e.jsx("input",{type:"text",value:n.meetingLocation||"",onChange:h=>F(r.id,"meetingLocation",h.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,placeholder:(n.meetingType||"offline")==="online"?"Zoom URL、Google Meet リンクなど":"会議室名、住所、待ち合わせ場所など"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"備考"}),e.jsx("textarea",{value:n.notes,onChange:h=>F(r.id,"notes",h.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-600 border-gray-500 text-gray-100":"border-gray-300"}`,rows:6,placeholder:"面談の目的や特記事項など"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{if(!n.name.trim()){alert("名前は必須です。");return}if(n.preferredOptions.some(i=>i.date&&i.timeSlot)&&n.preferredOptions.some(b=>b.date&&!b.timeSlot||!b.date&&b.timeSlot)){alert("日程と時間帯は両方入力してください。");return}se(r.id)},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"保存"}),e.jsx("button",{onClick:()=>Q(),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"キャンセル"})]})]})})():e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[w?e.jsx("div",{className:`w-12 h-12 ${re(r.id,L)} rounded-full mr-3 flex items-center justify-center`,children:e.jsx(A,{className:"text-white",size:20})}):r.image?e.jsx("img",{src:r.image,alt:r.name,className:"w-12 h-12 rounded-full mr-3 object-cover border"}):e.jsx(A,{className:"mr-3 text-blue-600",size:24}),e.jsx("h3",{className:`font-semibold text-lg ${t==="dark"?"text-gray-100":"text-gray-800"}`,children:w?U(r.id,L):r.name})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[(r.meetingType||"offline")==="online"?e.jsx(G,{className:"mr-2 text-cyan-500",size:16}):e.jsx(V,{className:"mr-2 text-orange-600",size:16}),e.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:(r.meetingType||"offline")==="online"?"オンライン":"対面"})]}),r.meetingLocation&&e.jsx("div",{className:`text-sm mt-1 ml-6 ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:w?"場所情報は非表示です":e.jsx(e.Fragment,{children:me(r.meetingLocation,t==="dark")})})]}),r.notes&&e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx(_e,{className:"mr-2 text-gray-500 mt-0.5",size:16}),e.jsx("div",{className:`text-sm ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:w?`${U(r.id,L)}のメモ`:sr(r.notes,t==="dark")})]})]}),e.jsxs("div",{className:"flex gap-2",children:[r.status==="confirmed"&&r.confirmedDate&&r.confirmedStartTime&&r.confirmedEndTime&&e.jsx("button",{onClick:()=>Wt(r,q),className:"text-purple-600 hover:text-purple-800 transition-colors flex items-center",title:"icsファイルをダウンロード",children:e.jsx(Ae,{size:18})}),e.jsx("button",{onClick:()=>ge(r.id),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"編集",children:e.jsx(Dt,{size:18})}),e.jsx("button",{onClick:()=>ue(r.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"削除",children:e.jsx(At,{size:18})})]})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:`text-sm font-medium ${t==="dark"?"text-gray-300":"text-gray-700"}`,children:"希望日程（クリックで確定）:"})}),r.preferredOptions.filter(n=>n.date&&n.timeSlot).length===0?e.jsx("div",{className:`text-sm p-3 rounded border ${t==="dark"?"bg-gray-700 border-gray-600 text-gray-300":"bg-gray-50 border-gray-200 text-gray-600"}`,children:"日時未定"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:r.preferredOptions.filter(n=>n.date&&n.timeSlot).map((n,h)=>e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:()=>fe(r.id,n.date,n.timeSlot),className:`w-full p-2 text-sm rounded border transition-colors text-left ${r.confirmedDate===n.date&&r.confirmedTimeSlot===n.timeSlot?t==="dark"?"bg-green-900/30 border-green-700 text-green-300":"bg-green-100 border-green-500 text-green-800":t==="dark"?"bg-gray-600 border-gray-500 hover:bg-gray-500 text-gray-200":"bg-gray-50 border-gray-300 hover:bg-blue-50 hover:border-blue-300 text-gray-800"}`,children:[e.jsxs("div",{className:`font-medium ${t==="dark"?"text-gray-200":"text-gray-800"}`,children:["第",r.preferredOptions.findIndex(i=>i.date===n.date&&i.timeSlot===n.timeSlot)+1,"希望"]}),e.jsx("div",{className:t==="dark"?"text-gray-300":"text-gray-700",children:te(n.date)}),e.jsx("div",{className:`text-xs mt-1 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:le(n.timeSlot)}),r.confirmedDate===n.date&&r.confirmedTimeSlot===n.timeSlot&&e.jsx(at,{size:16,className:"absolute top-2 right-2 text-green-600"})]})},h))}),r.status==="confirmed"&&r.confirmedDate&&r.confirmedTimeSlot&&e.jsxs("div",{className:`mt-3 p-3 rounded text-sm flex justify-between items-center ${t==="dark"?"bg-green-900/20 border border-green-700":"bg-green-50 border border-green-200"}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:"確定日程:"})," ",te(r.confirmedDate)," (",le(r.confirmedTimeSlot),")",r.confirmedStartTime&&r.confirmedEndTime&&e.jsxs("div",{className:`text-xs mt-1 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:["時刻: ",r.confirmedStartTime," - ",r.confirmedEndTime]})]}),e.jsx("button",{onClick:()=>ye(r.id),className:`text-xs underline transition-colors ${t==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"}`,children:"確定を取り消す"})]})]})]})},r.id))})]}),e.jsx(ir,{isOpen:g,theme:t,onClose:()=>c(!1),onDataExport:Ee,onDataImport:Ce}),e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:M.map(r=>e.jsxs("div",{className:`flex items-center p-4 rounded-lg shadow-lg max-w-sm transition-all duration-300 transform ${r.type==="success"?"bg-green-100 border border-green-200 text-green-800":r.type==="error"?"bg-red-100 border border-red-200 text-red-800":"bg-blue-100 border border-blue-200 text-blue-800"}`,children:[e.jsxs("div",{className:"flex-shrink-0 mr-3",children:[r.type==="success"&&e.jsx(Re,{size:20,className:"text-green-600"}),r.type==="error"&&e.jsx(J,{size:20,className:t==="dark"?"text-red-400":"text-red-600"}),r.type==="info"&&e.jsx(Le,{size:20,className:"text-blue-600"})]}),e.jsx("div",{className:"flex-1 text-sm font-medium",children:r.message}),e.jsx("button",{onClick:()=>be(r.id),className:`flex-shrink-0 ml-3 transition-colors ${t==="dark"?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(ae,{size:16})})]},r.id))})]})},cr=()=>[{title:"面談・ミーティング調整ツール"},{name:"description",content:"複数の人との面談日程を効率的に調整し、重複を防ぐためのツールです。"}],mr=Ze(lr);export{mr as default,cr as meta};
